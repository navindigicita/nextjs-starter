"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[410],{2410:function(e,t,n){n.d(t,{Z:function(){return k}});var i=n(5893),o=n(7294),s=n(6388),a=n.n(s),r=n(9755),l=n.n(r),c=n(5675),d=n.n(c),h=n(1163),p=n(5518),x=n(1980),u=n(7265),m=n(837),g=n(1637),f=n(313),y=n(1587),j=n(2143),b=n(3157),v=n(3966),N=function(e){var t=(0,o.useState)(),n=t[0],s=t[1],a=(0,o.useState)(),r=a[0],l=a[1];return(0,o.useEffect)((function(){if(console.log("inside share page@@@@",e.penName,e.profile),void 0!==e.profile&&void 0!==e.penName){console.log("inside share page@@@@@@@@@@",e.penName),s(e.penName);var t="@"===e.profile.charAt(0)?e.profile.substring(1):e.profile;l(t)}}),[]),(0,i.jsx)("div",{className:"modal fade",id:"ShareProfile",role:"dialog",children:(0,i.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:(0,i.jsxs)("div",{className:"modal-content",children:[(0,i.jsx)("button",{type:"button",className:"close text-right pr-2","data-dismiss":"modal",children:"\xd7"}),(0,i.jsxs)("div",{className:"modal-body text-center p-4",children:[(0,i.jsx)("h2",{style:{fontSize:"20px",fontWeight:"bold"},children:"Share your page with the world."}),void 0!==r&&null!==r&&""!==r?(0,i.jsx)(d(),{className:"flex justify-between my-3",src:r,alt:"profile",height:120,width:120,style:{borderRadius:"50%",objectFit:"cover"}}):(0,i.jsx)(u.Z,{className:"flex justify-between my-3",style:{width:"100px",height:"100px"},src:(0,i.jsx)(g.Z,{})}),(0,i.jsx)("h2",{className:"fs-20 fw-bold mt-2",children:void 0!==n&&n}),(0,i.jsx)(v.Z,{linkUrl:e.penName,image:r})]})]})})})},w=n(1328),S=n(8227),k=function(e){var t=(0,h.useRouter)(),n=(0,o.useContext)(b.R),s=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,r=(0,o.useState)(!1),c=r[0],v=r[1],k=(0,o.useState)(),I=k[0],T=k[1],C=(0,o.useState)(""),P=C[0],Z=C[1],L=(0,o.useState)(!1),D=L[0],E=L[1],F=(0,o.useState)(),U=F[0],z=F[1],R=(0,o.useState)(),M=R[0],W=R[1],A=(0,o.useState)(),H=(A[0],A[1],(0,o.useState)(0)),O=(H[0],H[1]),_=(0,o.useState)(0),B=(_[0],_[1],(0,o.useState)()),q=B[0],X=B[1],G=(0,o.useState)(!1),V=G[0],Y=(G[1],(0,o.useState)(!1)),J=Y[0],K=(Y[1],(0,o.useState)("")),Q=K[0],$=K[1],ee=(0,o.useState)(!1),te=ee[0],ne=ee[1],ie=(0,o.useState)(),oe=ie[0],se=ie[1],ae=(0,o.useState)(!1),re=ae[0],le=ae[1],ce=(0,o.useState)(null),de=ce[0];ce[1];(0,o.useEffect)((function(){if(void 0!==e.user_profile&&void 0!==e.thinklyConfigJSON){se("dashboard"),O(e.user_profile.otherDetails.totalPublicationsCount);var t=e.user_profile.profileDetails;E(t.userID),le(t.isPartialProfile);var n="@"===t.penName.charAt(0)?t.penName.substring(1):t.penName;W(n);var i="@"===t.profileImage.charAt(0)?t.profileImage.substring(1):t.profileImage;z(i),X(e.thinklyConfigJSON)}if(void 0!==e.userProfile&&void 0!==e.showContentForUserProfile){se(!0===e.showContentForUserProfile&&"loggedInUserProfile");t=e.userProfile.profileDetails;E(t.userID),le(t.isPartialProfile);n="@"===t.penName.charAt(0)?t.penName.substring(1):t.penName;W(n);i="@"===t.profileImage.charAt(0)?t.profileImage.substring(1):t.profileImage;z(i),le(t.isPartialProfile)}else void 0!==e.showContentForUserProfile&&se(!1===e.showContentForUserProfile&&"otherUserProfile")}),[]),(0,o.useEffect)((function(){var e=t.asPath;e.includes("/signup")?$("signup"):e.includes("/login")?$("login"):e.includes("complete-your-profile")?$("complete-your-profile"):e.includes("checkUser")?$("checkUser"):void 0!==localStorage.getItem("accessToken")&&null!==localStorage.getItem("accessToken")&&void 0!==localStorage.getItem("UserID")&&null!==localStorage.getItem("UserID")&&void 0!==localStorage.getItem("PublicationCount")&&null!==localStorage.getItem("PublicationCount")?$("LoggedIn"):$("")}),[]);var he=function(){t.push("/signup"),$("signup")},pe=function(){t.push("/login"),$("login"),document.addEventListener("click",(function(){$("login")}))},xe=function(){"none"===l()(".dropdown-user").css("display")?l()(".dropdown-user").css("display","block"):l()(".dropdown-user").css("display","none")},ue=function(){localStorage.clear(),sessionStorage.clear(),t.push("/login")},me=function(){window.open("".concat(M),"_blank").penName=M};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("section",{className:"topsection fixed-top",children:(0,i.jsx)("nav",{className:"navbrpadding",children:(0,i.jsx)("div",{className:"container",children:(0,i.jsxs)("div",{className:"row d-flex",children:[(0,i.jsxs)("div",{className:"col-md-6",children:[(0,i.jsx)(d(),{src:"/thinkly-logo-.png",height:40,width:130,alt:"Header Logo"}),p.tq&&(0,i.jsxs)(i.Fragment,{children:["signup"===Q?(0,i.jsxs)("span",{className:"float-right mt-1",children:["Existing User?",(0,i.jsx)("span",{className:"fc-link pointer",onClick:function(){return pe()},children:" Login "})]}):"login"===Q?(0,i.jsxs)("span",{className:"float-right mt-1",children:["New User?",(0,i.jsx)("span",{className:"fc-link pointer",onClick:function(){return he()},children:" Sign Up "})]}):"LoggedIn"===Q&&"dashboard"===oe&&(0,i.jsxs)("div",{className:"float-right",style:{marginTop:"0px"},children:[(0,i.jsxs)(x.Z,{className:"float-right p-1",style:{borderRadius:"50%",marginLeft:"-40px",position:"absolute",zIndex:"9"},"data-toggle":"modal","data-target":"#ShareProfile",onClick:function(){return ne(!0)},children:[" ",(0,i.jsx)(m.Z,{})," "]}),(0,i.jsxs)(x.Z,{style:{borderRadius:"40px",paddingTop:"4px",paddingBottom:"4px",paddingLeft:"10px",paddingRight:"4px"},children:[void 0!==U&&null!==U&&""!==U?(0,i.jsx)(d(),{src:U,alt:"user profile",height:22,width:22,style:{borderRadius:"50%"}}):(0,i.jsx)(u.Z,{style:{width:"22px",height:"22px"},src:(0,i.jsx)(g.Z,{})}),(0,i.jsx)(f.Z,{onClick:function(){return xe()},style:{marginTop:"-10px"}}),(0,i.jsxs)("div",{className:"dropdown-user",children:[(0,i.jsx)("a",{onClick:function(){return me()},children:"View My Page"}),(0,i.jsx)("a",{onClick:function(){return ue()},children:"Sign out"})]})]})]}),"loggedInUserProfile"===oe&&(0,i.jsxs)("div",{className:"float-right",style:{marginTop:"0px"},children:[!re&&(0,i.jsx)(x.Z,{className:"float-right",style:{borderRadius:"40px",padding:"4px 1px",marginLeft:"-110px",position:"absolute",zIndex:"99"},children:(0,i.jsx)("button",{className:"pointer bg-white border-radius-100 border-none fc-black mx-2","data-toggle":"modal","data-target":"#myModal",children:"Follow"})}),(0,i.jsx)(x.Z,{className:"float-right p-1",style:{borderRadius:"50%",marginLeft:"-40px",position:"absolute",zIndex:"9"},"data-toggle":"modal","data-target":"#ShareProfile",onClick:function(){return ne(!0)},children:(0,i.jsx)(m.Z,{})}),(0,i.jsxs)(x.Z,{style:{borderRadius:"40px",paddingTop:"4px",paddingBottom:"4px",paddingLeft:"10px",paddingRight:"4px",height:"34px"},children:["LoggedIn"===Q?(0,i.jsx)(d(),{src:U,alt:"user profile",height:22,width:22,style:{borderRadius:"50%"}}):(0,i.jsx)(u.Z,{style:{height:"22px",width:"22px"},src:(0,i.jsx)(g.Z,{})}),(0,i.jsx)(f.Z,{onClick:function(){return xe()},style:{marginTop:"-14px",marginLeft:"0px"}}),(0,i.jsx)("div",{className:"dropdown-user",children:"LoggedIn"===Q?(0,i.jsx)("a",{onClick:function(){return ue()},children:"Sign out"}):(0,i.jsx)("a",{onClick:function(){return ue()},children:"Sign In"})})]})]}),"otherUserProfile"===oe&&(0,i.jsxs)("div",{className:"float-right",style:{marginTop:"0px"},children:[(0,i.jsx)(x.Z,{className:"float-right p-1",style:{borderRadius:"50%",marginLeft:"-40px",position:"absolute",zIndex:"9"},"data-toggle":"modal","data-target":"#ShareProfile",onClick:function(){return ne(!0)},children:(0,i.jsx)(m.Z,{})}),(0,i.jsxs)(x.Z,{style:{borderRadius:"40px",paddingTop:"4px",paddingBottom:"4px",paddingLeft:"10px",paddingRight:"4px",height:"34px"},children:[(0,i.jsx)(u.Z,{style:{height:"22px",width:"22px"},src:(0,i.jsx)(g.Z,{})}),(0,i.jsx)(f.Z,{onClick:function(){return xe()},style:{marginTop:"-50px",marginLeft:"20px"}}),(0,i.jsx)("div",{className:"dropdown-user",children:(0,i.jsx)("a",{onClick:function(){return ue()},children:"Sign In"})})]})]})]})]}),!p.tq&&(0,i.jsxs)(i.Fragment,{children:["signup"===Q?(0,i.jsx)("div",{className:"col-md-6 py-1",style:{marginLeft:"-10px"},children:(0,i.jsxs)("span",{className:"float-right",children:["Existing User?",(0,i.jsx)("text",{className:"fc-link pointer",onClick:function(){return pe()},children:" Login"})]})}):"login"===Q&&(0,i.jsx)("div",{className:"col-md-6 py-1",style:{marginLeft:"-10px"},children:(0,i.jsxs)("span",{className:"float-right",children:["New User?",(0,i.jsx)("text",{className:"fc-link pointer",onClick:function(){return he()},children:" Sign Up "})]})}),"LoggedIn"===Q&&"dashboard"===oe&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"col-4"}),(0,i.jsx)("div",{className:"col-1",style:{marginTop:"12px"},children:(0,i.jsx)(x.Z,{className:"float-right p-1 pointer",style:{borderRadius:"50%"},"data-toggle":"modal","data-target":"#ShareProfile",onClick:function(){return ne(!0)},children:(0,i.jsx)(m.Z,{height:25,width:25})})}),(0,i.jsx)("div",{className:"col-1",style:{marginTop:"12px"},children:(0,i.jsxs)(x.Z,{className:"pointer",onClick:function(){return xe()},style:{borderRadius:"40px",paddingLeft:"12px",paddingTop:"4px",paddingBottom:"0px"},children:[(0,i.jsx)(y.Z,{height:25,width:25,style:{marginTop:"-14px"}}),void 0!==U&&null!==U&&""!==U?(0,i.jsx)(d(),{src:U,alt:"user profile",height:25,width:25,style:{borderRadius:"50%"}}):(0,i.jsx)(u.Z,{style:{width:"25px",height:"25px",marginTop:"-24px",marginLeft:"25px"},src:(0,i.jsx)(g.Z,{})}),(0,i.jsxs)("div",{className:"dropdown-user",children:[(0,i.jsx)("a",{onClick:function(){return me()},children:"View My Page"}),(0,i.jsx)("a",{onClick:function(){return ue()},children:"Sign out"})]})]})})]}),"otherUserProfile"===oe&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"col-4"}),(0,i.jsx)("div",{className:"col-1",style:{marginTop:"12px"},children:(0,i.jsx)(x.Z,{className:"float-right p-1 pointer",style:{borderRadius:"50%"},"data-toggle":"modal","data-target":"#ShareProfile",onClick:function(){return ne(!0)},children:(0,i.jsx)(m.Z,{height:25,width:25})})}),(0,i.jsx)("div",{className:"col-1",style:{marginTop:"12px"},children:(0,i.jsxs)(x.Z,{className:"pointer",onClick:function(){return xe()},style:{borderRadius:"40px",paddingLeft:"12px",paddingTop:"4px",paddingBottom:"4px"},children:[(0,i.jsx)(y.Z,{height:25,width:25,style:{marginTop:"0px"}}),(0,i.jsx)(u.Z,{style:{width:"25px",height:"25px",marginTop:"-24px",marginLeft:"25px"},src:(0,i.jsx)(g.Z,{})}),(0,i.jsx)("div",{className:"dropdown-user",children:(0,i.jsx)("a",{onClick:function(){return ue()},children:"Sign out"})})]})})]}),"loggedInUserProfile"===oe&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"col-3"}),(0,i.jsxs)("div",{className:"col-2",style:{marginTop:"12px"},children:[(0,i.jsx)(x.Z,{className:"float-right p-1 pointer ml-4",style:{borderRadius:"50%"},"data-toggle":"modal","data-target":"#ShareProfile",onClick:function(){return ne(!0)},children:(0,i.jsx)(m.Z,{})}),!re&&(0,i.jsx)(x.Z,{className:"float-right",style:{borderRadius:"40px",paddingTop:"4px",paddingBottom:"4px",paddingLeft:"10px",paddingRight:"10px"},children:(0,i.jsx)("button",{className:"pointer bg-white border-radius-100 border-none","data-toggle":"modal","data-target":"#myModal",children:"Follow"})})]}),(0,i.jsx)("div",{className:"col-1",style:{marginTop:"12px"},children:(0,i.jsxs)(x.Z,{className:"pointer",onClick:function(){return xe()},style:{borderRadius:"40px",paddingLeft:"12px",paddingTop:"4px",paddingBottom:"LoggedIn"===Q?"0px":"4px"},children:[(0,i.jsx)(y.Z,{height:25,width:25,style:{marginTop:"LoggedIn"===Q?"-14px":"0px"}}),"LoggedIn"===Q?(0,i.jsx)(d(),{src:U,alt:"user profile",height:25,width:25,style:{borderRadius:"50%"}}):(0,i.jsx)(u.Z,{style:{height:"25px",width:"25px",marginTop:"-24px",marginLeft:"25px"},src:(0,i.jsx)(g.Z,{})}),(0,i.jsx)("div",{className:"dropdown-user",children:"LoggedIn"===Q?(0,i.jsx)("a",{onClick:function(){return ue()},children:"Sign out"}):(0,i.jsx)("a",{onClick:function(){return ue()},children:"Sign In"})})]})})]})]})]})})})}),V&&(0,i.jsx)(w.Z,{authorID:D,thinklyRemoteConfigData:q}),J&&(0,i.jsx)(S.Z,{authorID:D}),te&&(0,i.jsx)(N,{profile:U,penName:M}),(0,i.jsx)("div",{id:"myModal",className:"modal fade in",tabIndex:"-1",role:"dialog","data-backdrop":"static",children:(0,i.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:(0,i.jsxs)("div",{className:"modal-content modal-background",children:[(0,i.jsx)("button",{type:"button",className:"close text-right pr-2","data-dismiss":"modal",onClick:function(){return v(!1)},children:"\xd7"}),(0,i.jsx)("div",{className:"modal-body px-4 py-2",children:(0,i.jsx)("div",{className:"row",children:c?(0,i.jsxs)("div",{className:"col-12 text-center",children:[(0,i.jsx)(j.Z,{style:{color:"green",width:"80px",height:"80px"}})," ",(0,i.jsx)("br",{}),(0,i.jsx)("h3",{children:"Download link sent"})," ",(0,i.jsx)("br",{}),(0,i.jsx)("p",{style:{marginTop:"-24px"},children:"If you did not get the email, check your spam folder"}),(0,i.jsx)("button",{type:"button",className:"button1 mt-3 mb-4","data-dismiss":"modal",onClick:function(){return v(!1)},children:"OK"})]}):(0,i.jsxs)("div",{className:"col-12 text-center",children:[(0,i.jsx)("p",{className:"font-weight-bold fs-20",children:"Download the App for a richer experience!"}),(0,i.jsx)("p",{className:"fs-15",children:"Follow your favourite publications, engage in meaningful conversations, earn & redeem Thinkly Stars for exciting rewards and many more features."}),p.tq?(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"row text-center mb-3",children:[(0,i.jsx)("div",{className:"col-6 text-right",children:(0,i.jsx)("a",{href:de,children:(0,i.jsx)(d(),{src:"/playStore.svg",height:40,width:80,style:{borderRadius:"10px"},alt:"Download button for Play store"})})}),(0,i.jsx)("div",{className:"col-6 text-left",children:(0,i.jsx)("a",{href:de,children:(0,i.jsx)(d(),{src:"/appstore.svg",height:40,width:80,alt:"Download button for App store"})})})]})}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("input",{id:"email",className:"email-link mt-3 fs-18 text-center ff-roboto",placeholder:"Enter your Email ID",onChange:function(e){return T(e.target.value)},required:!0})," ",(0,i.jsx)("br",{}),(0,i.jsx)("label",{style:{fontSize:"12px",color:"red"},children:void 0!==P&&null!==P&&P})," ",(0,i.jsx)("br",{}),(0,i.jsx)("button",{type:"button",className:"fw-mid border-radius-4 fc-white border-none primary-bg-color height-button fs-18 ff-roboto",style:{width:"60%"},onClick:function(){return function(){var e={method:"POST",headers:{"Content-Type":"application/json"},data:{EventType:"SignUp",NotificationType:"Email",ReceiverHandle:I}};I.match(s)?(Z(),a()("".concat(n,"Notification/SendEmailNotification"),e).then((function(e){"00"===e.data.responseCode&&v(!0)})).catch((function(e){console.log("inside sendSignUpEmail catch",e)}))):Z("Please provide a valid email ID")}()},children:"Send Download Link"})," ",(0,i.jsx)("br",{}),(0,i.jsx)("p",{className:"fs-15 mt-1",style:{color:"gray"},children:"You will receive an email to download the app"})]})]})})})]})})})]})}},3966:function(e,t,n){var i=n(5893),o=n(7294),s=n(5518),a=n(5675),r=n.n(a);t.Z=function(e){var t=(0,o.useState)(e.linkUrl),n=t[0],a=(t[1],(0,o.useState)(!1)),l=a[0],c=a[1],d=(0,o.useState)(),h=d[0],p=d[1];(0,o.useEffect)((function(){console.log("penName",n);var e=window.location.href;(e.indexOf("uat.stars.thinkly.me")>0||e.indexOf("stars.thinkly.me")>0||e.indexOf("localhost")>0)&&p("https://uat.stars.thinkly.me/"+n)}),[n]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("p",{className:"fs-18 mb-3 fc-link pointer",id:"userShareUrl",onClick:function(){return function(){var e=n;window.open("/".concat(e),"_blank").penName=e}()},children:[" ",h]}),(0,i.jsxs)("div",{style:{width:"100%",height:"100%",position:"relative"},children:[(0,i.jsx)(r(),{src:"/facebook.svg",alt:"facebook",width:60,height:40,className:"px-2 pointer",onClick:function(){return console.log("share the facebook link",h),window.open("https://www.facebook.com/sharer/sharer.php?u="+h,"","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=700"),!1}}),(0,i.jsx)(r(),{src:"/twitter.svg",alt:"twitter",width:60,height:40,className:"px-2 pointer",onClick:function(){return console.log("share the twitter link",h),window.open("http://twitter.com/share?text=&url="+h,"","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=700"),!1}}),(0,i.jsx)(r(),{src:"/linkend.svg",alt:"linkend",width:60,height:40,className:"px-2 pointer",onClick:function(){return console.log("share the linkedin link",h),window.open("https://www.linkedin.com/shareArticle?mini=true&url="+h,"","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=700"),!1}}),(0,i.jsx)(r(),{src:"/whatsapp.svg",alt:"whatsapp",width:60,height:40,className:"px-2 pointer",onClick:function(){return console.log("share the whatsapp link",h),window.open("https://api.whatsapp.com/send?text="+h,"","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=700"),!1}})]}),(0,i.jsx)("div",{className:"row d-flex",children:(0,i.jsxs)("button",{type:"button",onClick:function(){return function(){var e=document.getElementById("userShareUrl").innerHTML;navigator.clipboard.writeText(e).then((function(){console.log("Copied!",e),c(!0),setTimeout((function(){c(!1)}),2e3)}),(function(){console.log("Copy error")}))}()},className:"button-sign-in mt-4 mx-auto fw-bold border-radius-4 fc-white border-none primary-bg-color height-button fs-18 ff-roboto",style:s.tq?{width:"78%"}:{width:"50%"},children:[" ",l?"Copied":"Copy Link"," "]})})]})}},1328:function(e,t,n){var i=n(9815),o=n(5893),s=n(7294),a=n(9755),r=n.n(a),l=n(6388),c=n.n(l),d=n(5675),h=n.n(d),p=n(5152),x=n.n(p),u=n(8439),m=n(2822),g=n(998),f=n(6353),y=n(2456),j=n(5477),b=n(7210),v=n(6567),N=n(1346),w=n(5454),S=n(2143),k=n(3157),I=x()((function(){return Promise.all([n.e(774),n.e(937),n.e(127)]).then(n.t.bind(n,1167,23))}),{loadableGenerated:{webpack:function(){return[1167]}},ssr:!1});t.Z=function(e){var t=(0,s.useContext)(k.F),n=(0,s.useContext)(k.R),a=(0,s.useState)(),l=a[0],d=a[1],p=(0,s.useState)(!1),x=p[0],T=p[1],C=(0,s.useState)(""),P=C[0],Z=C[1],L=(0,s.useState)(!1),D=L[0],E=L[1],F=(0,s.useState)(),U=F[0],z=F[1],R=(0,s.useState)(""),M=R[0],W=R[1],A=(0,s.useState)(),H=A[0],O=A[1],_=(0,s.useState)(!1),B=_[0],q=_[1],X=(0,s.useState)(""),G=X[0],V=X[1],Y=(0,s.useState)(""),J=Y[0],K=Y[1],Q=(0,s.useState)(""),$=Q[0],ee=Q[1],te=(0,s.useState)(!1),ne=te[0],ie=te[1],oe=(0,s.useState)(!1),se=oe[0],ae=oe[1],re=(0,s.useState)(!1),le=re[0],ce=re[1],de=(0,s.useState)(!1),he=de[0],pe=de[1],xe=(0,s.useState)([]),ue=(xe[0],xe[1],(0,s.useState)(!1)),me=ue[0],ge=ue[1],fe=(0,s.useState)(["#f3a56c","#c37d8d","#3c7493","#7ec2bf"]),ye=fe[0],je=(fe[1],(0,s.useState)()),be=je[0],ve=je[1],Ne=(0,s.useState)([]),we=Ne[0],Se=Ne[1],ke=(0,s.useState)(!1),Ie=ke[0],Te=ke[1],Ce=(0,s.useState)(!1),Pe=Ce[0],Ze=Ce[1],Le=(0,s.useState)(),De=Le[0],Ee=Le[1],Fe=(0,s.useState)(!1),Ue=Fe[0],ze=Fe[1],Re=(0,s.useState)(),Me=Re[0],We=Re[1];(0,s.useEffect)((function(){void 0!==e.authorID&&void 0!==e.thinklyRemoteConfigData&&(r()("#createThinkly").modal("show"),d(e.authorID),T(!0),Ae(e.authorID),We(e.thinklyRemoteConfigData))}),[]);var Ae=function(e){var n={method:"POST",headers:{DeviceID:"123456",UserID:e},data:{UserID:e,PublicationID:"",StartIndex:0,EndIndex:10}};c()("".concat(t,"User/GetUserPublications"),n).then((function(e){console.log("response of user publication -> publication list",e),"00"===e.data.responseCode?z(e.data.responseData):"03"===e.data.responseCode&&z(e.data.responseMessage)})).catch((function(e){console.log("error response of user publication",e)}))};(0,s.useEffect)((function(){document.querySelector("div").addEventListener("paste",(function(e){console.log("inside add event listener",e),e.preventDefault();var t=e.clipboardData.getData("text");console.log("react quill@@@@@@@@",t),document.execCommand("insertHTML",!0,t)}))}),[]);(0,s.useEffect)((function(){fetch("https://thinklydevconfig.blob.core.windows.net/configuration/Interests.json").then((function(e){return e.json()})).then((function(e){console.log("interest list from api call",e);var t=e.sort((function(e,t){return e.CategoryDescription<t.CategoryDescription?-1:e.CategoryDescription>t.CategoryDescription?1:0}));console.log("sorted interest data",t),ve(t)}))}),[]);var He=function(){var e={method:"POST",headers:{DeviceID:"123456",UserID:l,contentType:"application/json"},data:{ThinklyID:0,DraftID:0,PublicationID:M,Title:window.localStorage.getItem("ThinklyName"),Description:$,UserType:"Customer",AuthorID:l,IsPublic:!ne,HashTags:[],ResponseID:0,ResponseURL:"",Reason:"",CategoryIDs:we,ThinklyType:se?"Paid":"Free",ThinklyContentType:window.localStorage.getItem("content_type"),VideoID:"",VideoUrl:"",AudioUrl:"",ImageNames:""!==G?[G.name]:[],ImageLabels:[],OembedUrl:"",ThinklyUrl:""}};c()("".concat(n,"Thinkly/InsertUpdateThinkly"),e).then((function(e){if(console.log("create thinkly api triggered",e),"00"===e.data.responseCode){var t=e.data.responseData.postData.postURL;Ee(t),ge(!1),Ze(!0)}})).catch((function(e){console.log("create thinkly error in catch",e)}))};return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("div",{id:"createThinkly",className:"modal fade in",tabIndex:"-1",role:"dialog","data-backdrop":"static",children:(0,o.jsx)("div",{className:B?"modal-dialog modal-xl modal-dialog-centered":"modal-dialog modal-dialog-centered",children:(0,o.jsxs)("div",{className:"modal-content modal-background",children:[(0,o.jsx)("button",{type:"button",className:"close text-right pr-2","data-dismiss":"modal",onClick:function(){return localStorage.clear(),void T(!0)},children:"\xd7"}),x?(0,o.jsxs)("div",{className:"modal-body py-3 px-5",children:[(0,o.jsx)("h6",{className:"text-center",style:{fontSize:"18px",fontWeight:"bold"},children:" What are you creating today? "}),(0,o.jsx)("p",{className:"text-center",children:" Choose your Thinkly type"})," ",(0,o.jsx)("br",{}),(0,o.jsxs)(m.Z,{style:{display:"grid",justifyContent:"center"},children:[(0,o.jsxs)(g.Z,{alignItems:"flex-start",style:{cursor:"pointer"},selected:0===P,onClick:function(e){return t=0,console.log("thinkly type item index",t),void Z(t);var t},children:[(0,o.jsx)(f.Z,{children:(0,o.jsx)(h(),{src:"/text.svg",alt:"text"})}),(0,o.jsx)(y.Z,{className:"mt-3",primary:(0,o.jsx)("b",{children:"Blog"})})]}),(0,o.jsxs)(g.Z,{alignItems:"flex-start",style:{cursor:"not-allowed"},selected:1===P,disabled:!0,children:[(0,o.jsx)(f.Z,{children:(0,o.jsx)(h(),{src:"/audio.svg",alt:"audio"})}),(0,o.jsx)(y.Z,{className:"mt-3",primary:(0,o.jsx)("b",{children:"Audio"})})]}),(0,o.jsxs)(g.Z,{alignItems:"flex-start",style:{cursor:"not-allowed"},selected:2===P,disabled:!0,children:[(0,o.jsx)(f.Z,{children:(0,o.jsx)(h(),{src:"/vedio.svg",alt:"video"})}),(0,o.jsx)(y.Z,{className:"mt-3",primary:(0,o.jsx)("b",{children:"Video"})})]})]}),""===P&&(0,o.jsx)("div",{id:"thinklyTypeError",className:"error-msg text-center"}),(0,o.jsx)("div",{className:"text-center my-4",children:(0,o.jsx)("button",{className:"button-new-publication",style:{width:"40%"},onClick:function(){""!==P?0===P&&(window.localStorage.setItem("content_type","C"),"No Record Found!"===U?(T(!1),q(!0)):(T(!1),E(!0))):r()("#thinklyTypeError").innerHTML="Please select an option to proceed!"},children:"NEXT"})})]}):D?(0,o.jsxs)("div",{className:"modal-body px-5",children:[(0,o.jsx)("h6",{className:"text-center",style:{fontSize:"18px",fontWeight:"bold"},children:" New Thinkly "}),(0,o.jsx)("p",{className:"text-center",children:"Under which publication do you wish to publish this Thinkly?"}),void 0!==U&&U.length>0?(0,o.jsxs)(o.Fragment,{children:[U.map((function(e,t){return(0,o.jsx)("div",{className:"row d-flex",selected:M===e.publicationID,onClick:function(n){return function(e,t,n){console.log("publication as index and publicationIDF",t,n);var i=U[t].publicationPayType;console.log("publication pay type @@@@@@@",i),O(i),W(n)}(0,t,e.publicationID)},children:(0,o.jsxs)("div",{className:"col-12 mx-auto",children:[(0,o.jsx)("input",{type:"radio",id:e.publicationID,name:"publication"}),(0,o.jsx)(y.Z,{style:{marginTop:"-22px",marginLeft:"22px"},primary:(0,o.jsx)("div",{style:{fontSize:"14px",fontWeight:"bold"},children:e.publicationName}),secondary:(0,o.jsx)("div",{children:(0,o.jsx)("p",{children:e.about})})})]})},t)})),""===M&&(0,o.jsx)("label",{id:"selectPublicationError",className:"error-msg"}),(0,o.jsx)("div",{className:"text-center my-4",children:(0,o.jsx)("button",{className:"button-new-publication",style:{width:"40%"},onClick:function(){return console.log(M),void(""===M?r()("#selectPublicationError").innerHTML="Please select a publication for the thinkly":(window.localStorage.setItem("PublicationID",M),E(!1),q(!0)))},children:"NEXT"})})]}):(0,o.jsx)("div",{style:{padding:"150px 0px",textAlign:"center"},children:(0,o.jsx)(j.Z,{"aria-label":"Loading..."})})]}):B?(0,o.jsxs)("div",{className:"modal-body scroll px-3",children:[(0,o.jsx)("p",{className:"text-center",style:{fontSize:"18px",fontWeight:"bold"},children:"New Thinkly"}),(0,o.jsx)("div",{className:"row d-flex",children:(0,o.jsx)("div",{className:"mx-auto",children:(0,o.jsx)(u.Z,{id:"img-preview",style:{height:"auto",width:"200px",border:"none",display:"inline-flex"},children:" "})})}),(0,o.jsxs)("div",{className:"row d-flex",children:[(0,o.jsxs)("div",{className:"col-1 mx-auto",children:[(0,o.jsxs)(u.Z,{style:{border:"none"},children:[(0,o.jsx)("input",{type:"file",name:"choose-file",accept:"image/*",id:"choose-file",style:{display:"none"},onChange:function(e){return function(e){var t=r()("#choose-file"),n=r()("#img-preview"),i=t.files[0],o=i.type;console.log(o);var s=o.substring(o.indexOf("/")+1),a=new File([i],"".concat(l,"_").concat(i.lastModified,".").concat(s));if(a){var c=new FileReader;c.readAsDataURL(a),c.addEventListener("load",(function(){n.innerHTML='<Image src="'+this.result+'" alt="image" />'}))}V(a)}(e.target.value)}}),(0,o.jsx)("label",{htmlFor:"choose-file",className:"text-center my-auto",children:(0,o.jsx)(v.Z,{style:{color:"#e98c37"}})})]}),(0,o.jsx)("p",{style:{fontSize:"12px"},children:"Add image"})]}),(0,o.jsx)("div",{className:"col-11",children:(0,o.jsx)("input",{type:"text",placeholder:"Title",value:J,onChange:function(e){return K(e.target.value)},style:{fontSize:"20px",border:"none",outline:"none",width:"100%"}})})]}),""===J&&(0,o.jsx)("label",{id:"thinklyNameError",className:"error-msg"}),(0,o.jsx)("div",{id:"ImageUploadError",className:"error-msg"}),(0,o.jsx)("hr",{}),(0,o.jsx)(I,{className:"mb-4",type:"textarea",modules:{toolbar:[["bold","italic"],[{list:"ordered"},{list:"bullet"}]]},theme:"snow",id:"blogFromQuill",placeholder:"type here...",value:$,onChange:function(e){return t=e,console.log("react quill inside function@@@@@@@@",t),void ee(t);var t}}),""===$&&(0,o.jsx)("label",{id:"blogError",className:"error-msg"}),"Paid"===H&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"row",children:(0,o.jsx)("div",{className:"col-3",children:(0,o.jsx)(y.Z,{primary:(0,o.jsx)("text",{style:{fontSize:"14px",fontWeight:"bold"},children:"Is this a Free or a Paid Thinkly?"})})})}),(0,o.jsx)("div",{className:"row",children:(0,o.jsxs)("div",{className:"col-3",children:[(0,o.jsx)("label",{className:"mr-2",style:se?{color:"gray"}:{fontWeight:"bold"},children:"Free"}),se?(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(b.ZP,{title:"Paid",children:(0,o.jsx)(w.Z,{tooltip:"Paid",onClick:function(){return ae(!1)},style:{marginTop:"0px",marginRight:"0px",fontSize:"40px"}})})}):(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(b.ZP,{title:"Free",children:(0,o.jsx)(N.Z,{tooltip:"Free",onClick:function(){return ae(!0)},style:{marginTop:"0px",marginRight:"0px",fontSize:"40px"}})})}),(0,o.jsx)("label",{className:"ml-2",style:se?{fontWeight:"bold"}:{color:"gray"},children:"Paid"})]})})]}),(0,o.jsx)("div",{className:"row",children:(0,o.jsx)("div",{className:"col-6",children:(0,o.jsx)(y.Z,{primary:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("text",{style:{fontSize:"14px",fontWeight:"bold"},children:"Enable Privilic View Of Comments"}),ne?(0,o.jsx)(b.ZP,{title:"Private",children:(0,o.jsx)(w.Z,{tooltip:"Private",onClick:function(){return ie(!1)},style:{marginTop:"0px",marginLeft:"28px",fontSize:"40px"}})}):(0,o.jsx)(b.ZP,{title:"Public",children:(0,o.jsx)(N.Z,{tooltip:"Public",onClick:function(){return ie(!0)},style:{marginTop:"0px",marginLeft:"28px",fontSize:"40px"}})})]}),secondary:(0,o.jsx)("text",{style:{fontSize:"12px"},children:"Prevent others from reading comments on your Thinkly"})})})}),(0,o.jsx)("div",{className:"text-center mt-4 my-4",children:(0,o.jsx)("button",{className:"button-new-publication",style:{width:"20%"},onClick:function(){return function(){if(""===J)r()("#thinklyNameError").innerHTML="Plz enter the thinkly name";else if(""===$)r()("#blogError").innerHTML="Plz enter the content for this thinkly";else if(localStorage.setItem("ThinklyName",J),localStorage.setItem("Blog",$),""!==G){localStorage.setItem("ThinklyImage",G.name);var e=new FormData;e.append("FileName",G),c().post("".concat(n,"Image/PostUploadFile/").concat(G.name),e,{headers:{"Content-type":"multipart/form-data"}}).then((function(e){console.log("PostUploadFile@@@@@@@@",e),void 0!==Me&&Me.contest.length>0?(console.log("thinkly remote config json data@@@@",Me.contest),q(!1),ce(!0)):(q(!1),ge(!0))})).catch((function(e){console.log("PostUploadFile error in catch",e),r()("#ImageUploadError").innerHTML="Oops! Something went wrong. Try again"}))}else void 0!==Me&&Me.contest.length>0?(console.log("thinkly remote config json data@@@@",Me.contest),q(!1),ce(!0)):(q(!1),ge(!0))}()},children:"NEXT"})})]}):le?(0,o.jsxs)("div",{className:"modal-body px-4",children:[(0,o.jsx)("p",{className:"text-center",style:{fontSize:"18px",fontWeight:"bold"},children:"New Thinkly"}),(0,o.jsxs)("div",{className:"row",children:[(0,o.jsx)("div",{className:"col-10",children:(0,o.jsx)(y.Z,{primary:(0,o.jsx)("text",{style:{fontSize:"14px",fontWeight:"bold"},children:"Participating in a contest?"}),secondary:(0,o.jsx)("text",{style:{fontSize:"12px"},children:" Select the contest you are participating in "})})}),(0,o.jsx)("div",{className:"col-1",children:he?(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(b.ZP,{title:"Intrested",children:(0,o.jsx)(w.Z,{tooltip:"Intrested",onClick:function(){return pe(!1)},style:{marginTop:"0px",marginRight:"0px",fontSize:"40px"}})})}):(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(b.ZP,{title:"Not Intrested",children:(0,o.jsx)(N.Z,{tooltip:"Not Intrested",onClick:function(){return pe(!0)},style:{marginTop:"0px",marginRight:"0px",fontSize:"40px"}})})})})]}),he&&(0,o.jsx)("div",{className:"row mt-4",children:void 0!==Me&&Me.contest.map((function(e,t){return(0,o.jsx)("div",{className:"col-6 mb-2",onClick:function(){return function(e){console.log("index of contest",e)}(t)},children:(0,o.jsxs)(u.Z,{className:"px-2 py-2",style:{background:"#ffe7cc",border:"none",width:"100%",height:"70px"},children:[(0,o.jsx)(h(),{src:e.contestImageURL,alt:"contest",style:{width:"60px",height:"60px"}}),(0,o.jsx)(y.Z,{className:"line-height-align",style:{marginTop:"-60px",marginLeft:"70px"},primary:(0,o.jsx)("span",{style:{fontSize:"14px"},children:e.contestTitle}),secondary:(0,o.jsx)("span",{style:{color:"#3c7493",fontSize:"12px",fontWeight:"bold",lineHeight:"0"},children:e.contestID})}),(0,o.jsxs)("span",{style:{fontSize:"8px",marginLeft:"70px",lineHeight:"0"},children:["I agree to the",(0,o.jsxs)("a",{href:"#contestTerms&Conditions",style:{color:"#3c7493"},onClick:function(){return function(e){if(void 0!==Me){var t=Me.contest[e].contestTermsURL;window.open(t,"_blank")}}(t)},children:[" ",(0,o.jsx)("u",{children:"Terms & Conditions"})," "]})]})]})},t)}))}),(0,o.jsx)("div",{className:"text-center my-4",children:(0,o.jsx)("button",{className:"button-new-publication",style:{width:"20%"},onClick:function(){return ce(!1),void ge(!0)},children:"NEXT"})})]}):me?(0,o.jsxs)("div",{className:"modal-body px-3",children:[(0,o.jsx)("h6",{className:"text-center",style:{fontSize:"20px",fontWeight:"bold"},children:"New Thinkly"}),(0,o.jsx)("p",{className:"text-center",children:"People with these interests* will be able to discover this Thinkly"}),(0,o.jsx)("div",{className:"interest-card",children:(0,o.jsx)("div",{className:"row d-flex",children:void 0!==be&&be.map((function(e,t){return(0,o.jsx)("div",{className:"col-4 mb-3",onClick:function(){return function(e){var t=ye[Math.floor(Math.random()*ye.length)];we.length<=0?("#".concat(e).style.background=t,Se((function(t){return(0,i.Z)(t).concat([e])}))):we.length>0&&we.find((function(t){return t===e}))?("#".concat(e).style.background="none",Se(we.filter((function(t){return t!==e})))):("#".concat(e).style.background=t,Se((function(t){return(0,i.Z)(t).concat([e])})))}(e.CategoryID)},children:(0,o.jsx)(u.Z,{id:"".concat(e.CategoryID),className:"sub-interest-card mx-auto my-auto",children:e.CategoryDescription},t)},t)}))})}),we.length>3&&(0,o.jsx)("div",{id:"InterestError",className:"error-msg"}),(0,o.jsx)("div",{className:"text-center my-4",children:(0,o.jsx)("button",{className:"button-new-publication",style:{width:"40%"},onClick:function(){return console.log("comment status",ne),console.log("thinklyPayType status",se),void(we.length>3?r()("#InterestError").innerHTML="Interest should be less than or equal to 3":(console.log("array of interest",we),Te(!0),He()))},children:Ie?(0,o.jsx)(j.Z,{style:{width:"20px",height:"20px",color:"#fff"}}):"Publish"})})]}):Pe&&(0,o.jsxs)("div",{className:"modal-body px-5 text-center",style:{marginTop:"100px",marginBottom:"100px"},children:[(0,o.jsx)(S.Z,{style:{color:"#ea7f00",width:"80px",height:"80px"}})," ",(0,o.jsx)("br",{}),(0,o.jsx)("h3",{className:"mt-4",style:{fontSize:"20px",fontWeight:"bold"},children:"Congratulations!"})," ",(0,o.jsx)("br",{}),(0,o.jsx)("p",{style:{marginTop:"-25px",fontSize:"20px"},children:"Your Thinkly has been successfully posted"}),(0,o.jsx)("p",{id:"textcopy",style:{display:"none"},children:De}),(0,o.jsx)("div",{className:"text-center my-4",children:(0,o.jsx)("button",{className:"button-new-publication",style:{width:"40%"},onClick:function(){return function(){var e=r()("#textcopy").innerHTML;navigator.clipboard&&navigator.clipboard.writeText(e).then(ze(!0)).catch((function(e){console.log("error of copy link",e)}))}()},children:"Share Link"})}),Ue&&(0,o.jsx)("p",{className:"text-center",children:"Link Copied to your clipboard. Share it in your social networks."})]})]})})})})}},8227:function(e,t,n){var i=n(9815),o=n(5893),s=n(7294),a=n(9755),r=n.n(a),l=n(6388),c=n.n(l),d=(n(5675),n(8439)),h=n(2822),p=n(998),x=n(6353),u=n(2456),m=n(2430),g=n(8780),f=n(7956),y=n(1533),j=n(3157),b=n(1328);t.Z=function(e){var t=(0,s.useContext)(j.R),n=(0,s.useState)(),a=n[0],l=n[1],v=(0,s.useState)(!1),N=v[0],w=v[1],S=(0,s.useState)(!1),k=S[0],I=S[1],T=(0,s.useState)(!1),C=T[0],P=T[1],Z=(0,s.useState)(!1),L=Z[0],D=Z[1],E=(0,s.useState)(!1),F=E[0],U=E[1],z=(0,s.useState)(),R=z[0],M=z[1],W=(0,s.useState)(!1),A=W[0],H=W[1],O=(0,s.useState)(!1),_=(O[0],O[1]),B=(0,s.useState)(!1),q=B[0],X=B[1],G=(0,s.useState)(!1),V=(G[0],G[1]),Y=(0,s.useState)(!1),J=(Y[0],Y[1]),K=(0,s.useState)(""),Q=K[0],$=K[1],ee=(0,s.useState)([]),te=ee[0],ne=ee[1],ie=(0,s.useState)(""),oe=ie[0],se=ie[1],ae=(0,s.useState)(!1),re=ae[0],le=ae[1],ce=(0,s.useState)(""),de=ce[0],he=ce[1],pe=(0,s.useState)(""),xe=pe[0],ue=pe[1],me=(0,s.useState)(),ge=me[0],fe=me[1],ye=(0,s.useState)(""),je=ye[0],be=ye[1],ve=(0,s.useState)(""),Ne=ve[0],we=ve[1],Se=(0,s.useState)(""),ke=Se[0],Ie=Se[1],Te=(0,s.useState)(""),Ce=Te[0],Pe=Te[1],Ze=(0,s.useState)(),Le=Ze[0],De=Ze[1],Ee=(0,s.useState)(["#f3a56c","#c37d8d","#3c7493","#7ec2bf"]),Fe=Ee[0];Ee[1];(0,s.useEffect)((function(){void 0!==e.authorID&&(r()("#newPublication").modal("show"),l(e.authorID),w(!0),le(!1))}),[]);var Ue=function(e,t){console.log("index",t);var n="";""===t?r()("#planError").innerHTML="Please select subscription plan for this publication":""!==t&&0===t?(n="Free",window.localStorage.setItem("Plan",n)):""!==t&&1===t?(Pe(""),n="Monthly",window.localStorage.setItem("Plan",n)):""!==t&&2===t&&(Pe(""),n="OneTime",window.localStorage.setItem("Plan",n)),$(t)},ze=function(){c().get("".concat(t,"Publication/GetPublicationPlanForDeviceType/AND"),{headers:{"Content-Type":"application/json",DeviceID:"123456",UserID:"21723"}}).then((function(e){"00"===e.data.responseCode&&(console.log("GetPublicationPlanForDeviceType ",e.data.responseData),De(e.data.responseData))})).catch((function(e){console.log("GetPublicationPlanForDeviceType error in catch",e)}))};(0,s.useEffect)((function(){console.log("PlanDetailData@@@@",Le)}),[Le]),(0,s.useEffect)((function(){fetch("https://thinklydevconfig.blob.core.windows.net/configuration/Interests.json").then((function(e){return e.json()})).then((function(e){console.log("interest list",e),M(e)}))}),[]);var Re=function(){var e=window.localStorage.getItem("Publication Name"),n=window.localStorage.getItem("Publication Image"),i=window.localStorage.getItem("Description"),o=window.localStorage.getItem("Short Description"),s=window.localStorage.getItem("Web URL");be(s);var r=window.localStorage.getItem("Plan"),l="";if(l="Free"===r?"Free":"Paid",void 0!==Le)var d=Le.findIndex((function(e){return"Free"==e.name})),h=Le.findIndex((function(e){return"Monthly Subscription"==e.name})),p=Le.findIndex((function(e){return"OneTimePayment"==e.name}));var x=0,u=0,m="",g="",f=0;"Monthly"===r?(x=window.localStorage.getItem("Monthly cost"),m=Le[h].publicationPlanID,g=parseInt(x)/Le[h].perStarPrice,f=x):"OneTime"===r?(u=window.localStorage.getItem("oneTime cost"),m=Le[p].publicationPlanID,g=parseInt(u)/Le[p].perStarPrice,f=u):"Free"===r&&(m=Le[d].publicationPlanID,g=parseInt(0)/Le[d].perStarPrice);var y=new FormData;y.append("channelID","3"),y.append("name",e),y.append("about",i),y.append("image",n),y.append("createdBy",a),y.append("shortDes",o),y.append("category",te.toString()),y.append("authorsID",""),y.append("payType",l),y.append("oTCharge",u),y.append("moCharge",x),y.append("penName","@"+s),y.append("aboutUs",""),y.append("publicationPlanID",m),y.append("noOfStars",g),y.append("publicationPrice",f);var j={headers:{DeviceID:"123456",UserID:a}};c().post("".concat(t,"Publication/CreatePublication"),y,j).then((function(e){console.log("createPublication",e),U(!1),H(!0)})).catch((function(e){console.log("createPublication error in catch",e)}))};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{id:"newPublication",className:"modal fade in",tabIndex:"-1",role:"dialog","data-backdrop":"static",children:(0,o.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:(0,o.jsxs)("div",{className:"modal-content modal-background",children:[(0,o.jsx)("button",{type:"button",className:"close text-right pr-2","data-dismiss":"modal",onClick:function(){return localStorage.clear(),w(!0),void le(!1)},children:"\xd7"}),N?(0,o.jsxs)("div",{className:"modal-body py-3 px-5",children:[(0,o.jsx)("h6",{className:"text-center",style:{fontSize:"18px",fontWeight:"bold"},children:" Create Your Publication "}),(0,o.jsx)("p",{className:"text-center",children:" Thinkly provides a one stop solution for all your publication needs."}),(0,o.jsxs)(h.Z,{style:{display:"grid",justifyContent:"center"},children:[(0,o.jsxs)(p.Z,{alignItems:"flex-start",children:[(0,o.jsx)(x.Z,{children:(0,o.jsx)(m.Z,{style:{color:"#3c7493",width:"28px",height:"28px"}})}),(0,o.jsx)(u.Z,{primary:(0,o.jsx)("b",{children:"Customize"}),secondary:"Add cover image, title, subline"})]}),(0,o.jsxs)(p.Z,{alignItems:"flex-start",children:[(0,o.jsx)(x.Z,{children:(0,o.jsx)(g.Z,{style:{color:"#c37d8d",width:"28px",height:"28px"}})}),(0,o.jsx)(u.Z,{primary:(0,o.jsx)("b",{children:"Editorial freedom"}),secondary:"Play your own publication time"})]}),(0,o.jsxs)(p.Z,{alignItems:"flex-start",children:[(0,o.jsx)(x.Z,{children:(0,o.jsx)(g.Z,{style:{color:"#c37d8d",width:"28px",height:"28px"}})}),(0,o.jsx)("i",{className:"fa-solid fa-indian-rupee-sign"}),(0,o.jsx)(u.Z,{primary:(0,o.jsx)("b",{children:"Get Paid"}),secondary:"Earn through your content"})]})]}),(0,o.jsx)("div",{className:"text-center my-4",children:(0,o.jsx)("button",{className:"button-new-publication",style:{width:"40%"},onClick:function(){return w(!1),void I(!0)},children:"START"})})]}):k?(0,o.jsxs)("div",{className:"modal-body py-3 px-5",children:[(0,o.jsx)("div",{className:"row d-flex",children:(0,o.jsx)("p",{className:"mx-auto",style:{fontSize:"18px",fontWeight:"bold"},children:" About publication "})}),(0,o.jsx)("div",{className:"row d-flex",children:(0,o.jsxs)("div",{className:"col-10 mx-auto",children:[(0,o.jsx)("input",{type:"text",minLength:"2",maxLength:"30",className:"bottomline-textbox",id:"publication_title",placeholder:"Choose a catchy title (max 30 characters)",value:oe,onChange:function(e){return se(e.target.value)}}),""===oe?(0,o.jsx)("div",{id:"pubNameError",className:"error-msg"}):""]})}),(0,o.jsx)("div",{className:"row d-flex",children:(0,o.jsxs)("div",{className:"col-10 mx-auto text-center mt-2",children:[(0,o.jsx)(d.Z,{className:"mx-auto",id:"img-preview",value:de,style:{height:"auto",width:"200px",border:"none",display:"inline-flex"},children:" "}),(0,o.jsxs)("div",{className:"type-file-hide",children:[(0,o.jsx)("input",{type:"file",name:"choose-file",accept:"image/*",id:"choose-file",onChange:function(e){return function(e){var t=r()("#choose-file"),n=r()("#img-preview"),i=t.files[0],o=i.type,s=o.substring(o.indexOf("/")+1),l=new File([i],"".concat(a,"_").concat(i.lastModified,".").concat(s));if(l){var c=new FileReader;c.readAsDataURL(l),c.addEventListener("load",(function(){n.innerHTML='<Image src="'+this.result+'" alt="pImage" />'}))}le(!0),he(l)}(e.target.value)}}),(0,o.jsx)("label",{htmlFor:"choose-file",style:{fontSize:"16px",fontFamily:"Lora",color:"#3c7493"},children:re?(0,o.jsx)("span",{children:" Update Publication Picture"}):(0,o.jsx)("span",{children:" Add Publication Picture*"})}),""===de?(0,o.jsx)("div",{id:"pubImageError",className:"error-msg"}):"",(0,o.jsx)("div",{id:"pubImageUploadError",className:"error-msg"})]})]})}),(0,o.jsx)("div",{className:"text-center my-4",children:(0,o.jsx)("button",{className:"button-new-publication",style:{width:"40%"},onClick:function(){return function(){if(""===oe)r()("#pubNameError").innerHTML="Please Enter the publication Name";else if(""===de)r()("#pubImageError").innerHTML="Please select an Image for publication Profile";else{window.localStorage.setItem("Publication Name",oe),window.localStorage.setItem("Publication Image",de.name);var e=new FormData;e.append("FileName",de),c().post("".concat(t,"Image/PostUploadFile/").concat(de.name),e,{headers:{"Content-type":"multipart/form-data"}}).then((function(e){console.log("PostUploadFile@@@@@@@@",e),I(!1),P(!0)})).catch((function(e){console.log("PostUploadFile error in catch",e),r()("#pubImageUploadError").innerHTML="Oops! Something went wrong. Try again"}))}}()},children:"NEXT"})})]}):C?(0,o.jsxs)("div",{className:"modal-body py-3 px-5",children:[(0,o.jsx)("div",{className:"row d-flex",children:(0,o.jsx)("p",{className:"mx-auto",style:{fontSize:"18px",fontWeight:"bold"},children:" Publication Description "})}),(0,o.jsxs)("div",{className:"row",children:[(0,o.jsxs)("div",{className:"col-12 mb-2",children:[(0,o.jsx)("label",{style:{fontSize:"12px",fontFamily:"Lora",fontWeight:"bold"},children:"Web URL*"}),(0,o.jsx)("label",{style:{fontSize:"12px"},children:"Unique url for your publication. Choose wisely! This cannot be changed after the Publication is created."}),(0,o.jsxs)("div",{className:"row",children:[(0,o.jsx)("div",{className:"col-4",children:(0,o.jsx)("b",{children:"www.thinkly.me/"})}),(0,o.jsx)("div",{className:"col-8",children:(0,o.jsx)("input",{type:"text",id:"web-url",className:"interest-textbox",minLength:"2",maxLength:"20",value:xe,onChange:function(e){return function(e){var n=e.target.value;if(ue(n),n.length>=5||15===n.length){var i={headers:{DeviceID:"123456",UserID:a}};c().get("".concat(t,"Publication/IsPennameAvailable/@").concat(n),i).then((function(e){if("00"===e.data.responseCode){var t=e.data.responseData.available;fe(t),!1===t&&(r()("#penNameError").innerHTML="This Pen name is already taken")}})).catch((function(e){console.log("IsPennameAvailable error in catch",e)}))}}(e)}})})]}),""===xe||0===xe.length?(0,o.jsx)("div",{id:"UrlError",className:"error-msg"}):"",!1===ge||xe.length>1&&xe.length<5?(0,o.jsx)("div",{id:"penNameError",className:"error-msg"}):""]}),(0,o.jsxs)("div",{className:"col-12 mb-2",children:[(0,o.jsx)("label",{style:{fontSize:"12px",fontFamily:"Lora",fontWeight:"bold"},children:"What is it about?*"}),(0,o.jsx)("input",{type:"text",id:"pub-about",className:"interest-textbox",minLength:"2",maxLength:"50",placeholder:'E.g. "Fitness is forever" (max 50 characters)',value:Ne,onChange:function(e){return we(e.target.value)}}),""===Ne?(0,o.jsx)("div",{id:"shortDescriptionError",className:"error-msg"}):""]}),(0,o.jsxs)("div",{className:"col-12",children:[(0,o.jsx)("label",{style:{fontSize:"12px",fontFamily:"Lora",fontWeight:"bold"},children:"Description*"}),(0,o.jsx)("textarea",{id:"description",className:"interest-textbox",minLength:"2",maxLength:"1000",rows:5,value:ke,onChange:function(e){return Ie(e.target.value)},placeholder:"Tell people why their lives will be letter by reading your publication. Explain the value, rather then the content!"}),""===ke?(0,o.jsx)("div",{id:"descriptionError",className:"error-msg"}):""]})]}),(0,o.jsx)("div",{className:"text-center my-4",children:(0,o.jsx)("button",{className:"button-new-publication",style:{width:"40%"},onClick:function(){""===xe||0===xe.length?r()("#UrlError").innerHTML="please Enter the publication pen name":""===Ne?r()("#shortDescriptionError").innerHTML="please Enter about the publication":""===ke?r()("#descriptionError").innerHTML="please Enter the publication description":xe.length>1&&xe.length<5?r()("#penNameError").innerHTML="Please match the requested format(Should include minimum 5 characters, maximum 15 characters, no space, no special characters except _). ":(window.localStorage.setItem("Web URL",xe),window.localStorage.setItem("Short Description",Ne),window.localStorage.setItem("Description",ke),P(!1),D(!0),ze())},children:"NEXT"})})]}):L?(0,o.jsxs)("div",{className:"modal-body py-3 px-5",children:[(0,o.jsxs)("div",{className:"row d-flex",children:[(0,o.jsx)("h6",{className:"mx-auto",style:{fontSize:"22px",fontWeight:"bold"},children:"Subscription Plan"}),(0,o.jsx)("p",{children:'For paid plans, you will get paid in Starts which can be redeemed from the "My Stars" page.'})]}),(0,o.jsxs)("div",{className:"row mt-4 px-3",selected:0===Q,onClick:function(e){return Ue(0,0)},children:[(0,o.jsx)("input",{type:"radio",name:"plan",value:"Free",style:{width:"20px",height:"20px"}}),(0,o.jsx)(u.Z,{style:{marginTop:"-32px",marginLeft:"36px",marginBottom:"-10px"},primary:(0,o.jsx)("div",{style:{fontFamily:"Lora",fontWeight:"bold"},children:"Free"}),secondary:(0,o.jsx)("div",{children:(0,o.jsx)("p",{children:" Subscribers can read all Thinkles in this publication for free"})})})]}),(0,o.jsx)("hr",{}),(0,o.jsxs)("div",{className:"row mt-4 px-3",selected:1===Q,onClick:function(e){return Ue(0,1)},children:[(0,o.jsx)("input",{type:"radio",name:"plan",value:"Monthily Subscription",style:{width:"20px",height:"20px"}}),(0,o.jsx)(u.Z,{style:{marginTop:"-32px",marginLeft:"36px",marginBottom:"-10px"},primary:(0,o.jsx)("div",{style:{fontFamily:"Lora",fontWeight:"bold"},children:"Monthly Subscription"}),secondary:(0,o.jsx)("div",{children:(0,o.jsx)("p",{children:" Subscribers will apy a fixed monthly amount to read all Thinklies in this publication"})})})]}),1===Q&&(0,o.jsxs)(o.Fragment,{children:[" ",(0,o.jsx)("input",{type:"number",id:"planPrice",className:"interest-textbox",minLength:1,maxLength:3,value:Ce,placeholder:"Amount should be multiple of 10",onChange:function(e){return Pe(e.target.value)}}),""!==Ce&&void 0!==Ce&&Ce%10===0?"":(0,o.jsx)("label",{id:"mPriceError",className:"error-msg text-center"})]}),(0,o.jsx)("hr",{}),(0,o.jsxs)("div",{className:"row mt-4 px-3",selected:2===Q,onClick:function(e){return Ue(0,2)},children:[(0,o.jsx)("input",{type:"radio",name:"plan",value:"OneTime Payment",style:{width:"20px",height:"20px"}}),(0,o.jsx)(u.Z,{style:{marginTop:"-32px",marginLeft:"36px",marginBottom:"-10px"},primary:(0,o.jsx)("div",{style:{fontFamily:"Lora",fontWeight:"bold"},children:"OneTime Payment"}),secondary:(0,o.jsx)("div",{children:(0,o.jsx)("p",{children:" Subscribers will pay a fixed amount one time to read all Thinklies in this publication"})})})]}),2===Q&&(0,o.jsxs)(o.Fragment,{children:[" ",(0,o.jsx)("input",{type:"number",id:"planPrice",className:"interest-textbox",minLength:1,maxLength:3,value:Ce,placeholder:"Amount should be multiple of 10",onChange:function(e){return Pe(e.target.value)}}),2===Q&&""!==Ce&&void 0!==Ce&&Ce%10===0?"":(0,o.jsx)("label",{id:"otPriceError",className:"error-msg text-center"})]}),""===Q&&(0,o.jsx)("label",{id:"planError",className:"error-msg text-center"}),(0,o.jsx)("div",{className:"text-center my-4",children:(0,o.jsx)("button",{className:"button-new-publication",style:{width:"40%"},onClick:function(){""===Q?r()("#planError").innerHTML="Please select subscription plan for this publication":0===Q?(D(!1),U(!0)):1===Q?void 0!==Ce&&null!==Ce&&""!==Ce&&Ce%10===0?(window.localStorage.setItem("Monthly cost",Ce),D(!1),U(!0)):r()("#mPriceError").innerHTML="Enter valid amount":2===Q&&(void 0!==Ce&&null!==Ce&&""!==Ce&&Ce%10===0?(window.localStorage.setItem("oneTime cost",Ce),D(!1),U(!0)):r()("#otPriceError").innerHTML="Enter valid amount")},children:"NEXT"})})]}):F?(0,o.jsxs)("div",{className:"modal-body py-3 px-5",children:[(0,o.jsx)("h6",{className:"text-center",style:{fontSize:"20px",fontWeight:"bold"},children:"Tag Interests*"}),(0,o.jsx)("p",{className:"text-center",children:"People with these interests will be able to discover this Publication"}),(0,o.jsx)("div",{className:"interest-card",children:(0,o.jsx)("div",{className:"row d-flex",children:void 0!==R&&R.map((function(e,t){return(0,o.jsx)("div",{className:"col-4 mb-3",onClick:function(){return function(e){var t=Fe[Math.floor(Math.random()*Fe.length)];te.length<=0?(r()("#".concat(e)).style.background=t,ne((function(t){return(0,i.Z)(t).concat([e])}))):te.length>0&&te.find((function(t){return t===e}))?(r()("#".concat(e)).style.background="none",ne(te.filter((function(t){return t!==e})))):(r()("#".concat(e)).style.background=t,ne((function(t){return(0,i.Z)(t).concat([e])})))}(e.CategoryID)},children:(0,o.jsx)(d.Z,{id:"".concat(e.CategoryID),className:"sub-interest-card mx-auto my-auto",children:e.CategoryDescription},t)},t)}))})}),te.length<3&&(0,o.jsx)("div",{id:"InterestError",className:"error-msg"}),(0,o.jsx)("div",{className:"text-center my-4",children:(0,o.jsx)("button",{className:"button-new-publication",style:{width:"40%"},onClick:function(){te.length<3?r()("#InterestError").innerHTML="Please select at least 3 interest":(console.log("array of interest",te),Re())},children:"NEXT"})})]}):A&&(0,o.jsxs)("div",{className:"modal-body py-3 px-5",children:[(0,o.jsx)("p",{className:"text-center",style:{fontSize:"22px",fontWeight:"bold"},children:"Congratulations, your Publication is ready!"}),(0,o.jsx)("div",{className:"row d-flex",children:(0,o.jsxs)("label",{className:"mx-auto text-center",style:{fontSize:"18px",fontWeight:"bold",background:"#ffe7cc",width:"80%"},children:["www.thinkly.me/",je]})}),(0,o.jsxs)("div",{className:"row d-flex mt-4",children:[(0,o.jsx)("div",{className:"col-12",children:(0,o.jsxs)(d.Z,{className:"mx-auto pl-2 py-2 mb-3",style:{width:"280px",border:"none"},children:[(0,o.jsx)(f.Z,{style:{color:"#7ec2bf",width:"28px",height:"28px"}}),(0,o.jsx)(u.Z,{style:{marginTop:"-34px",marginLeft:"40px"},primary:(0,o.jsxs)("b",{children:["Collaborate",(0,o.jsx)("a",{href:"#AddcoAuthor",onClick:function(){return r()("#newPublication").modal("hide"),void _(!0)},style:{fontSize:"12px",color:"#e98c37"},children:"...Add co-author"})]}),secondary:"Invite other Thinkliers to co-author your publication"})]})}),(0,o.jsx)("div",{className:"col-12",children:(0,o.jsxs)(d.Z,{className:"mx-auto pl-2 py-2 mb-3",style:{width:"280px",border:"none"},children:[(0,o.jsx)(m.Z,{style:{color:"#c37d8d",width:"28px",height:"28px"}}),(0,o.jsx)(u.Z,{style:{marginTop:"-34px",marginLeft:"40px"},primary:(0,o.jsxs)("b",{children:["Create",(0,o.jsx)("a",{href:"#AddThinkly",onClick:function(){return r()("#newPublication").modal("hide"),void X(!0)},style:{fontSize:"12px",color:"#e98c37"},children:"...Create Thinkly"})]}),secondary:"Write your first Thinkly"})]})}),(0,o.jsx)("div",{className:"col-12",children:(0,o.jsxs)(d.Z,{className:"mx-auto pl-2 py-2 mb-3",style:{width:"280px",border:"none"},children:[(0,o.jsx)(y.Z,{style:{color:"#3c7493",width:"28px",height:"28px"}}),(0,o.jsx)(u.Z,{style:{marginTop:"-34px",marginLeft:"40px"},primary:(0,o.jsxs)("b",{children:["Share",(0,o.jsx)("a",{href:"#shareLink",onClick:function(){return r()("#newPublication").modal("hide"),void V(!0)},style:{fontSize:"12px",color:"#e98c37"},children:"...Share Link"})]}),secondary:"Start spreading the word"})]})})]}),(0,o.jsx)("div",{className:"text-center my-4",children:(0,o.jsx)("button",{className:"button-new-publication mr-4",style:{width:"60%",fontWeight:"500"},onClick:function(){return r()("#newPublication").modal("hide"),void J(!0)},children:"Open Publication"})})]})]})})}),q&&(0,o.jsx)(b.Z,{show:q,listInterest:R,author:a})]})}},3157:function(e,t,n){n.d(t,{F:function(){return o},R:function(){return s}});var i=n(7294),o=(0,i.createContext)("https://thinklyapi.azurewebsites.net/api/"),s=(0,i.createContext)("https://thinkly.me/thinklyapi/api/")}}]);